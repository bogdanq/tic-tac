(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{44:function(e,n,t){},45:function(e,n,t){"use strict";t.r(n);var r,c,i=t(2),o=t(0),a=t(13),u=t.n(a),s=t(9),d=t.n(s),b=t(7),j=t(8);!function(e){e.Cross="X",e.Zero="O",e.Empty=""}(r||(r={})),function(e){e.Finished="Finished",e.Pending="Pending",e.Start="Start"}(c||(c={}));var l=t(4),f=t(3),m=t(1),p=t(20),O=[{name:"bogdan",type:r.Cross,ai:!1},{name:"dima",type:r.Zero,ai:!1}],v={name:"Ai bot",type:r.Zero,ai:!0};function h(e,n){return e[0]===r[n]&&e[1]===r[n]&&e[2]===r[n]||e[3]===r[n]&&e[4]===r[n]&&e[5]===r[n]||e[6]===r[n]&&e[7]===r[n]&&e[8]===r[n]||e[0]===r[n]&&e[3]===r[n]&&e[6]===r[n]||e[1]===r[n]&&e[4]===r[n]&&e[7]===r[n]||e[2]===r[n]&&e[5]===r[n]&&e[8]===r[n]||e[0]===r[n]&&e[4]===r[n]&&e[8]===r[n]||e[6]===r[n]&&e[4]===r[n]&&e[2]===r[n]}var g=[r.Empty,r.Empty,r.Empty,r.Empty,r.Empty,r.Empty,r.Empty,r.Empty,r.Empty];function x(e){var n=e.length,t=Math.floor(Math.random()*n),r=e.filter(Boolean).length;return e[t]&&r!==n?x(e):t}var y=Object(m.createEvent)("cross or zero move"),E=Object(m.createEvent)(),C=Object(m.createEvent)("reset game"),k=Object(m.createEvent)(),S=function(e){var n=e.to,t=e.timeout,r=Object(m.createEvent)("trigger by delay"),c=Object(p.delay)({source:r,timeout:t});return Object(m.forward)({from:c,to:n}),r}({to:y,timeout:1e3}),w=Object(m.createStore)(g),F=Object(m.createStore)(O),Z=Object(m.createStore)(r.Cross),P=F.map((function(e){return Boolean(e.find((function(e){return e.ai})))})),A=Object(m.createStore)({game:c.Start,vinner:null}),B=Object(m.combine)(F,Z).map((function(e){var n=Object(f.a)(e,2),t=n[0],r=n[1];return t.find((function(e){return e.type===r}))}));Object(m.sample)({source:E,clock:Object(m.guard)({source:E,filter:A.map((function(e){return e.game===c.Start}))}),fn:function(e){return e?[Object(f.a)(O,1)[0],v]:O},target:F});var I=Object(m.sample)({source:Object(m.combine)(Z,w),clock:y,fn:function(e,n){var t=Object(f.a)(e,2),r=t[0],c=t[1];if(c[n])return c;var i=Object(l.a)(c);return i[n]=r,i},target:w}),z=Object(m.guard)({source:I,filter:A.map((function(e){return e.game===c.Pending}))});function G(e){var n=e.isVisible,t=e.vinner,c=Object(o.useState)(!1),a=Object(f.a)(c,2),u=a[0],s=a[1],b=Object(o.useCallback)((function(){C(),s(!1)}),[]);return Object(i.jsx)(d.a,{className:"modal",isOpen:n||u,onRequestClose:function(){},children:Object(i.jsxs)(i.Fragment,{children:[t===r.Empty?Object(i.jsx)("h1",{children:"\u041d\u0438\u0447\u044c\u044f"}):Object(i.jsxs)("h1",{children:["\u041f\u043e\u0431\u0435\u0434\u0438\u043b ",t]}),Object(i.jsx)("button",{onClick:b,children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e"})]})})}Object(m.guard)({source:w,filter:Object(m.combine)(A,B).map((function(e){var n=Object(f.a)(e,2),t=n[0],r=n[1];return t.game===c.Pending&&Boolean(null===r||void 0===r?void 0:r.ai)})),target:S.prepend((function(e){return x(e)}))}),A.on(k,(function(e,n){return n})).on(y,(function(e){return e.game!==c.Pending?{game:c.Pending,vinner:null}:e})).reset(C),Z.on(z,(function(e){return e===r.Cross?r.Zero:r.Cross})).reset(C),w.on(I,(function(e){return t=k,h(n=e,"Cross")?(t({game:c.Finished,vinner:r.Cross}),n):h(n,"Zero")?(t({game:c.Finished,vinner:r.Zero}),n):n.every((function(e){return Boolean(e)}))?(t({game:c.Finished,vinner:r.Empty}),n):void 0;var n,t})).reset(C);var J=t(21),M=Object(m.combine)({scene:w,currentStep:Z,gameStatus:A,currenUser:B,hasAiInGame:P,users:F});function N(){var e=Object(b.a)(["\n          background: #fff6d5;\n          color: #fd5;\n          border-color: #fd5;\n        "]);return N=function(){return e},e}function U(){var e=Object(b.a)(["\n          background: #adc0df87;\n          color: #adc0df;\n          border-color: #adc0df;\n        "]);return U=function(){return e},e}function V(){var e=Object(b.a)(["\n  margin: 3px;\n  width: 50px;\n  height: 50px;\n  border: 1px solid #ccc;\n  border-radius: 10px;\n  cursor: pointer;\n  font-size: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.5s;\n\n  ","\n\n  &:hover {\n    box-shadow: 0px 3px 14px -3px rgba(0, 0, 0, 0.75);\n  }\n"]);return V=function(){return e},e}function q(){var e=Object(b.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  max-width: 180px;\n"]);return q=function(){return e},e}function R(){var e=Object(J.a)(M),n=e.scene,t=e.hasAiInGame,r=e.gameStatus,o=e.currenUser,a=e.users,u=r.game===c.Finished;return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("h1",{children:"\u041a\u0440\u0435\u0441\u0442\u0438\u043a\u0438 \u043d\u043e\u043b\u0438\u043a\u0438"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"\u0418\u0433\u0440\u0430\u0442\u044c \u0441 \u0431\u043e\u0442\u043e\u043c"}),Object(i.jsx)("input",{type:"checkbox",checked:t,onChange:function(e){var n=e.target;E(n.checked)}}),a.map((function(e){return Object(i.jsx)("p",{children:e.name},e.name)}))]}),Object(i.jsxs)("h2",{children:["\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0445\u043e\u0434:",Object(i.jsx)("span",{children:null===o||void 0===o?void 0:o.name})]}),Object(i.jsx)(X,{children:n.map((function(e,n){return Object(i.jsx)(D,{onClick:function(){e||(null===o||void 0===o?void 0:o.ai)||y(n)},type:e,children:e},n)}))}),Object(i.jsx)(G,{vinner:r.vinner,isVisible:u})]})}var X=j.b.div(q()),D=j.b.div(V(),(function(e){switch(e.type){case r.Cross:return Object(j.a)(U());case r.Zero:return Object(j.a)(N());default:return""}}));function H(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(R,{})})}d.a.setAppElement("#root");t(44);u.a.render(Object(i.jsx)(H,{}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.225418d5.chunk.js.map